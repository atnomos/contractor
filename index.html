<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contractor Shoutout Badge Maker</title>
  <style>
    :root {
      --primary: #0066cc;
      --primary-dark: #004c99;
      --text: #f8f9ff;
      --gray: #b0c4de;
      --shadow: 0 6px 20px rgba(0,0,0,0.6);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      min-height: 100vh;
      color: var(--text);
      background: #000814;
      overflow-x: hidden;
      position: relative;
    }

    /* Vast dark space base */
    .space-bg {
      position: fixed;
      inset: 0;
      background: #000814;
      z-index: -3;
    }

    /* Multiple layers of stars for realistic depth */
    .stars, .stars2, .stars3 {
      position: fixed;
      inset: 0;
      background: transparent;
      z-index: -2;
    }

    .stars {
      background-image: 
        radial-gradient(white 1px, transparent 1px),
        radial-gradient(white 0.8px, transparent 0.8px);
      background-size: 140px 140px, 100px 100px;
      background-position: 0 0, 70px 30px;
      animation: drift 180s linear infinite;
      opacity: 0.95;
    }

    .stars2 {
      background-image: 
        radial-gradient(white 1.2px, transparent 1.2px),
        radial-gradient(#f0f0ff 0.9px, transparent 0.9px);
      background-size: 220px 220px, 160px 160px;
      background-position: 50px 80px, 120px 40px;
      animation: drift 260s linear infinite reverse;
      opacity: 0.75;
    }

    .stars3 {
      background-image: 
        radial-gradient(white 0.7px, transparent 0.7px),
        radial-gradient(#e8f0ff 0.6px, transparent 0.6px);
      background-size: 320px 320px, 240px 240px;
      animation: drift 400s linear infinite;
      opacity: 0.55;
    }

    @keyframes drift {
      from { transform: translate(0, 0); }
      to   { transform: translate(-150px, -150px); }
    }

    /* Subtle twinkling stars */
    .twinkle {
      position: fixed;
      inset: 0;
      background: transparent;
      box-shadow: 
        180px 320px 1.5px #fff, 450px 120px 1.2px #fff, 780px 580px 1.8px #f8f9ff,
        1100px 380px 1px #fff, 320px 720px 1.6px #fff, 850px 180px 1.4px #fff,
        580px 880px 1px #fff, 1050px 650px 1.7px #f0f4ff, 420px 480px 1.3px #fff,
        900px 200px 1.5px #fff, 200px 900px 1px #fff, 700px 300px 1.2px #fff;
      opacity: 0.65;
      animation: twinkle 10s infinite ease-in-out;
      pointer-events: none;
      z-index: -1;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.65; transform: scale(1); }
      50%      { opacity: 0.9; transform: scale(1.015); }
    }

    .container {
      position: relative;
      max-width: 720px;
      width: 100%;
      margin: 40px auto;
      padding: 32px 24px;
      background: rgba(8, 10, 20, 0.65);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: var(--shadow);
      z-index: 1;
    }

    h1 {
      font-size: 2.6rem;
      color: #f8f9ff;
      text-align: center;
      margin-bottom: 16px;
      text-shadow: 0 0 15px rgba(255,255,255,0.25);
    }

    .intro {
      color: var(--gray);
      text-align: center;
      margin-bottom: 32px;
      font-size: 1.1rem;
    }

    label {
      display: block;
      margin: 0 0 8px;
      font-weight: 600;
      color: #d0e0ff;
    }

    input[type="text"],
    textarea {
      width: 100%;
      padding: 14px 16px;
      border: 1px solid rgba(255,255,255,0.15);
      border-radius: 10px;
      background: rgba(255,255,255,0.03);
      color: white;
      font-size: 1rem;
      transition: all 0.25s;
    }

    input:focus, textarea:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(0,102,204,0.2);
      outline: none;
    }

    textarea { min-height: 110px; resize: vertical; }

    .artwork-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
      gap: 20px;
      margin: 32px 0;
    }

    .artwork-option label {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      padding: 14px;
      border: 2px solid rgba(255,255,255,0.12);
      border-radius: 14px;
      background: rgba(255,255,255,0.02);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .artwork-option input:checked + label {
      border-color: var(--primary);
      background: rgba(0,102,204,0.12);
      box-shadow: 0 0 20px rgba(0,102,204,0.3);
      transform: scale(1.08);
    }

    .artwork-option img {
      width: 100px;
      height: 100px;
      object-fit: contain;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.6);
      transition: transform 0.3s;
    }

    .artwork-option:hover img {
      transform: scale(1.15);
    }

    .artwork-option span {
      font-size: 0.95rem;
      color: #d0e0ff;
    }

    #preview {
      margin: 40px auto;
      width: 100%;
      max-width: 440px;
      aspect-ratio: 1;
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 18px;
      overflow: hidden;
      position: relative;
      box-shadow: 0 12px 40px rgba(0,0,0,0.7);
      background: rgba(0,0,0,0.5);
    }

    #bg { width: 100%; height: 100%; object-fit: cover; position: absolute; inset: 0; }

    #textOverlay {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 24px;
      text-align: center;
      text-shadow: 0 4px 16px rgba(0,0,0,0.98);
      pointer-events: none;
    }

    #nameText {
      font: bold 44px Arial, sans-serif;
      margin-bottom: 16px;
      line-height: 1.05;
    }

    #reasonText {
      font: 26px Arial, sans-serif;
      line-height: 1.35;
      max-width: 88%;
    }

    button {
      display: block;
      width: 100%;
      max-width: 360px;
      margin: 32px auto 0;
      padding: 16px;
      background: linear-gradient(135deg, #0066cc, #0077ff);
      color: white;
      font-size: 1.18rem;
      font-weight: 600;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 8px 25px rgba(0,102,204,0.45);
    }

    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 35px rgba(0,102,204,0.55);
    }

    button:disabled {
      background: #444;
      cursor: not-allowed;
      box-shadow: none;
    }

    @media (max-width: 520px) {
      h1 { font-size: 2.1rem; }
      #preview { max-width: 360px; }
      #nameText { font-size: 36px; }
      #reasonText { font-size: 22px; }
    }
  </style>
</head>
<body>
  <div class="space-bg"></div>
  <div class="stars"></div>
  <div class="stars2"></div>
  <div class="stars3"></div>
  <div class="twinkle"></div>

  <div class="container">
    <h1>Contractor Shoutout Badge</h1>
    <p class="intro">Create a quick recognition badge â€” fill in the details, pick a style, then download to share on Teams!</p>

    <form id="form">
      <label for="name">Contractor's Name</label>
      <input type="text" id="name" placeholder="e.g. Alex Rivera" required />

      <label for="reason">What are we celebrating?</label>
      <textarea id="reason" rows="3" placeholder="e.g. Outstanding support on the Q4 migration project!" required></textarea>

      <label>Choose a badge style</label>
      <div class="artwork-grid">
        <div class="artwork-option">
          <input type="radio" name="artwork" value="image1" id="image1" checked />
          <label for="image1">
            <img src="images/image1.png" alt="Excellence Badge" />
            <span>Excellence</span>
          </label>
        </div>
        <div class="artwork-option">
          <input type="radio" name="artwork" value="image2" id="image2" />
          <label for="image2">
            <img src="images/image2.png" alt="Reliability Badge" />
            <span>Reliability</span>
          </label>
        </div>
        <div class="artwork-option">
          <input type="radio" name="artwork" value="image3" id="image3" />
          <label for="image3">
            <img src="images/image3.png" alt="Teamwork Badge" />
            <span>Teamwork</span>
          </label>
        </div>
        <div class="artwork-option">
          <input type="radio" name="artwork" value="image4" id="image4" />
          <label for="image4">
            <img src="images/image4.png" alt="Innovation Badge" />
            <span>Innovation</span>
          </label>
        </div>
        <div class="artwork-option">
          <input type="radio" name="artwork" value="image5" id="image5" />
          <label for="image5">
            <img src="images/image5.png" alt="Achievement Badge" />
            <span>Achievement</span>
          </label>
        </div>
      </div>

      <button type="button" id="generate">Generate & Download Badge</button>
    </form>

    <div id="preview">
      <img id="bg" src="" alt="Selected badge background" />
      <div id="textOverlay">
        <div id="nameText"></div>
        <div id="reasonText"></div>
      </div>
    </div>
  </div>

  <script>
    const nameInput   = document.getElementById('name');
    const reasonInput = document.getElementById('reason');
    const previewBg   = document.getElementById('bg');
    const nameText    = document.getElementById('nameText');
    const reasonText  = document.getElementById('reasonText');
    const generateBtn = document.getElementById('generate');

    nameInput.addEventListener('input',   () => nameText.textContent   = nameInput.value.trim());
    reasonInput.addEventListener('input', () => reasonText.textContent = reasonInput.value.trim());

    document.querySelectorAll('input[name="artwork"]').forEach(radio => {
      radio.addEventListener('change', () => {
        const img = radio.nextElementSibling.querySelector('img');
        previewBg.src = img.src;
      });
    });

    const initialImg = document.querySelector('input[name="artwork"]:checked + label img');
    if (initialImg) previewBg.src = initialImg.src;

    generateBtn.onclick = () => {
      if (!nameInput.value.trim() || !reasonInput.value.trim()) {
        alert('Please enter both name and celebration reason.');
        return;
      }

      generateBtn.disabled = true;
      generateBtn.textContent = 'Generating...';

      const canvas = document.createElement('canvas');
      canvas.width = 400;
      canvas.height = 400;
      const ctx = canvas.getContext('2d');

      const img = new Image();
      img.crossOrigin = 'anonymous';
      img.src = previewBg.src;

      img.onload = () => {
        ctx.drawImage(img, 0, 0, 400, 400);

        ctx.textAlign = 'center';
        ctx.fillStyle = '#ffffff';
        ctx.shadowColor = 'rgba(0,0,0,0.98)';
        ctx.shadowBlur = 12;
        ctx.shadowOffsetX = 3;
        ctx.shadowOffsetY = 3;

        ctx.font = 'bold 44px Arial, sans-serif';
        ctx.fillText(nameInput.value.trim(), 200, 160);

        ctx.font = '26px Arial, sans-serif';
        ctx.fillText(reasonInput.value.trim(), 200, 225);

        const link = document.createElement('a');
        link.download = `shoutout_${nameInput.value.trim().replace(/\s+/g,'_') || 'badge'}.png`;
        link.href = canvas.toDataURL('image/png');
        link.click();

        generateBtn.disabled = false;
        generateBtn.textContent = 'Generate & Download Badge';
      };

      img.onerror = () => {
        alert('Failed to load background image. Check paths or refresh.');
        generateBtn.disabled = false;
        generateBtn.textContent = 'Generate & Download Badge';
      };
    };
  </script>
</body>
</html>
